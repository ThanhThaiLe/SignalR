{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HomeComponent = class HomeComponent {\n  constructor(chatService, _ngZone) {\n    this.chatService = chatService;\n    this._ngZone = _ngZone;\n    this.title = 'ClientApp';\n    this.txtMessage = '';\n    this.uniqueID = new Date().getTime().toString();\n    this.messages = new Array();\n    this.subscribeToEvents();\n  }\n  sendMessage() {\n    if (this.txtMessage) {\n      this.message = null;\n      this.message.clientuniqueid = this.uniqueID;\n      this.message.type = 'sent';\n      this.message.message = this.txtMessage;\n      this.message.date = new Date();\n      this.messages.push(this.message);\n      this.chatService.sendMessage(this.message);\n      this.txtMessage = '';\n    }\n  }\n  subscribeToEvents() {\n    this.chatService.messageReceived.subscribe(message => {\n      this._ngZone.run(() => {\n        if (message.clientuniqueid !== this.uniqueID) {\n          message.type = 'received';\n          this.messages.push(message);\n        }\n      });\n    });\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html'\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAQlC,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAMxBC,YAAoBC,WAAwB,EAAUC,OAAe;IAAjD,gBAAW,GAAXD,WAAW;IAAuB,YAAO,GAAPC,OAAO;IAL7D,UAAK,GAAG,WAAW;IACnB,eAAU,GAAW,EAAE;IACvB,aAAQ,GAAW,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE,CAACC,QAAQ,EAAE;IAClD,aAAQ,GAAG,IAAIC,KAAK,EAAW;IAG7B,IAAI,CAACC,iBAAiB,EAAE;EAC1B;EACAC,WAAW;IACT,IAAI,IAAI,CAACC,UAAU,EAAE;MACnB,IAAI,CAACC,OAAO,GAAG,IAAI;MACnB,IAAI,CAACA,OAAO,CAACC,cAAc,GAAG,IAAI,CAACC,QAAQ;MAC3C,IAAI,CAACF,OAAO,CAACG,IAAI,GAAG,MAAM;MAC1B,IAAI,CAACH,OAAO,CAACA,OAAO,GAAG,IAAI,CAACD,UAAU;MACtC,IAAI,CAACC,OAAO,CAACI,IAAI,GAAG,IAAIX,IAAI,EAAE;MAC9B,IAAI,CAACY,QAAQ,CAACC,IAAI,CAAC,IAAI,CAACN,OAAO,CAAC;MAChC,IAAI,CAACT,WAAW,CAACO,WAAW,CAAC,IAAI,CAACE,OAAO,CAAC;MAC1C,IAAI,CAACD,UAAU,GAAG,EAAE;;EAExB;EACQF,iBAAiB;IACvB,IAAI,CAACN,WAAW,CAACgB,eAAe,CAACC,SAAS,CAAER,OAAgB,IAAI;MAC9D,IAAI,CAACR,OAAO,CAACiB,GAAG,CAAC,MAAK;QACpB,IAAIT,OAAO,CAACC,cAAc,KAAK,IAAI,CAACC,QAAQ,EAAE;UAC5CF,OAAO,CAACG,IAAI,GAAG,UAAU;UACzB,IAAI,CAACE,QAAQ,CAACC,IAAI,CAACN,OAAO,CAAC;;MAE/B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;CACD;AA/BYX,aAAa,eAJzBD,SAAS,CAAC;EACTsB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE;CACd,CAAC,GACWtB,aAAa,CA+BzB;SA/BYA,aAAa","names":["Component","HomeComponent","constructor","chatService","_ngZone","Date","getTime","toString","Array","subscribeToEvents","sendMessage","txtMessage","message","clientuniqueid","uniqueID","type","date","messages","push","messageReceived","subscribe","run","selector","templateUrl"],"sourceRoot":"","sources":["D:\\Github\\SignalR\\SignalRAngularASP\\SignalRAngular\\ClientApp\\src\\app\\home\\home.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Message } from '../message.types';\r\nimport { ChatService } from '../chat.service';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n})\r\nexport class HomeComponent {\r\n  title = 'ClientApp';\r\n  txtMessage: string = '';\r\n  uniqueID: string = new Date().getTime().toString();\r\n  messages = new Array<Message>();\r\n  message: any;\r\n  constructor(private chatService: ChatService, private _ngZone: NgZone) {\r\n    this.subscribeToEvents();\r\n  }\r\n  sendMessage(): void {\r\n    if (this.txtMessage) {\r\n      this.message = null;\r\n      this.message.clientuniqueid = this.uniqueID;\r\n      this.message.type = 'sent';\r\n      this.message.message = this.txtMessage;\r\n      this.message.date = new Date();\r\n      this.messages.push(this.message);\r\n      this.chatService.sendMessage(this.message);\r\n      this.txtMessage = '';\r\n    }\r\n  }\r\n  private subscribeToEvents(): void {\r\n    this.chatService.messageReceived.subscribe((message: Message) => {\r\n      this._ngZone.run(() => {\r\n        if (message.clientuniqueid !== this.uniqueID) {\r\n          message.type = 'received';\r\n          this.messages.push(message);\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}